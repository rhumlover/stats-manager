<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <script src="dist/stats-manager.js"></script>
</head>
<body>

    <script>
        (function(window) {
            var StatsManager = window.StatsManager,
                stats, ga;

            stats = new StatsManager(['start', 'stop']);

            ga = new StatsManager.plugins.GoogleAnalyticsPlugin({
                account: 'UA-64443-19'
            });

            ga.listen('start').then(function(data) {
                console.log(
                    'GoogleAnalytics: received %cstart%c event (%s)',
                    'font-weight:bold',
                    'font-weight:normal',
                    data.description
                );

                this.trackPageview({
                    'page': 'Entry',
                    'title': 'Entry page'
                });
            });
            ga.listen('stop').then(function(data) {
                console.log(
                    'GoogleAnalytics: received %cstop%c event (%s)',
                    'font-weight:bold',
                    'font-weight:normal',
                    data.description
                );

                this.trackPageview({
                    'page': 'Exit',
                    'title': 'Exit page'
                });
            });

            stats.register(ga);
            stats.start();

            setTimeout(function() {
                stats.trigger('start', {
                    description: 'Murdock, you fool!'
                });
            }, 2000);

            setTimeout(function() {
                stats.trigger('stop', {
                    description: 'I love when a plan comes together!'
                });
            }, 4000);
        })(this);
    </script>

</body>
</html>
